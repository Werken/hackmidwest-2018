{% extends "base.html" %}

{% block content %}
<div class="uk-grid-medium" uk-grid>
    <div class="uk-width-1-3@s">
        <h4 class="uk-heading">Select a user</h4>
        <select class="uk-select" v-model="user">
            {% for user in users %}
            <option value="{{ user.id }}">{{ user.name }}</option>
            {% endfor %}
        </select>
        <a class="uk-button uk-button-primary uk-margin-top uk-width-1-1" :href="'/edit/' + user">Edit User</a>
        <button class="uk-button uk-button-danger uk-margin-top uk-width-1-1" @click="deleteUser">
            Delete User
        </button>
    </div>
    <div class="uk-width-2-3@s">
        <table class="uk-table uk-table-hover uk-table-divider">
            <thead>
                <tr>
                    <th>Key</th>
                    <th>Value</th>
                </tr>
            </thead>
            <tbody>
                {% for info in information %}
                <tr v-if="user == '{{ 
                    info.user[0].id if info.user|length > 0 else -2
                }}'">
                    <td>{{ info.key }}</td>
                    <td>{{ info.value }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}

{% block postprocess %}{% endblock %}